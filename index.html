<!DOCTYPE html>
<!-- Helveckicka! https://github.com/kollegorna/vecka.io -->
<html lang="sv" manifest="vecka.appcache">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Vecka">
    <meta name='apple-mobile-web-app-status-bar-style' content='black'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <style>
      body {
        background: #f4e7b7;
        color: #403e35;
        font: bold 96px/1 'Helvetica Neue', sans-serif;
        margin: 0;
        padding: 0;
        text-align: center;
      }

      a {
        color: #ACA389;
        text-decoration: none;
        -webkit-transition-duration: 0.4s;
        -moz-transition-duration: 0.4s;
        -o-transition-duration: 0.4s;
        transition-duration: 0.4s;
      }

      a:hover {
        color: #403e35;
      }

      #week {
        bottom: 0;
        height: 96px;
        left: 0;
        margin: auto;
        position: absolute;
        right: 0;
        top:0;
        width: 100%;
      }

      #love {
        font-size: 11px;
        font-weight: normal;
        line-height: 16px;
        left: 20px;
        position: absolute;
        top: 20px;
      }

      #love i {
        color: #ACA389;
        display: inline-block;
        font-size: 13px;
        font-style: normal;
        margin-right: 3px;
        -webkit-transition-duration: 0.4s;
        -moz-transition-duration: 0.4s;
        -o-transition-duration: 0.4s;
        transition-duration: 0.4s;
      }

      #love:hover i {
        color: red;
      }

      @media all and (min-width: 480px) {
        body {
          font-size: 180px;
        }

        #week {
          height: 180px;
        }
      }

      @media all and (min-width: 760px) {
        body {
          font-size: 320px;
        }

        #week {
          height: 320px;
        }
      }
    </style>
    <title>Vilken vecka är det?</title>

    <meta name="title" content="Vecka.io">
    <meta name="description" content="Veckorna blir bättre med Helvetica.">
    <meta name="google-site-verification" content="8mPXXPO2YS-l1Esrjb2Y6MCZprlJCPQ-Tmi6_fLivaM">
    <meta property="og:title" content="Vecka.io">
    <meta property="og:description" content="Veckorna blir bättre med Helvetica.">
    <meta property="og:image" content="http://vecka.io/avatar.png">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-152x152.png" />
    <!-- Windows 8 Tile Icons -->
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-11425486-6', 'auto');
      ga('require', 'displayfeatures');
      ga('require', 'linkid', 'linkid.js');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <time id="week"></time>
    <a id="love" href="https://twitter.com/kollegorna"><i>♥</i> Loved by Kollegorna</a>
    <script>
      Date.prototype.getWeekNumber = function(){
        var d = new Date(+this);
        d.setHours(0,0,0);
        d.setDate(d.getDate()+4-(d.getDay()||7));
        return Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7);
      };
      d = new Date();
      week = d.getWeekNumber();
      document.getElementById('week').innerHTML = week;
    </script>

	  <script>
		  var canvas = document.createElement('canvas');
		  canvas.width = 32;
		  canvas.height = 32;
		  var ctx = canvas.getContext('2d');

  	  ctx.fillStyle =  window.getComputedStyle(document.body, null).getPropertyValue('background-color');
		  ctx.fillRect  (0,   0, 32, 32);


		  ctx.fillStyle =  window.getComputedStyle(document.body, null).getPropertyValue('color');
		  ctx.fillRect(0, 0, 32, 4);
		  ctx.fillRect(0, 29, 32, 1);
		  ctx.fillRect(0, 31, 32, 1);
		  ctx.fillRect(0, 27, 32, 1);
		  ctx.fillRect(0, 0, 1, 32);
		  ctx.fillRect(31, 0, 1, 32);

		  var offset = 16
		  var textSize = 24

		  if(week < 10){
			  textSize = textSize + 1;
		  }else{
			  var wstr = week.toString();
			  if(wstr.charAt(1) == 1)
				  offset = offset+1;
			  if(wstr.charAt(0) == 1)
			    offset = offset-1;
  		}

		  ctx.font = "bold " + textSize + "px Helvetica";
		  ctx.textAlign = 'center';
		  ctx.fillText(week, offset, 24);

		  var link = document.createElement('link');
		  link.type = 'image/x-icon';
		  link.rel = 'shortcut icon';
		  link.href = canvas.toDataURL("image/x-icon");
		  document.getElementsByTagName('head')[0].appendChild(link);
	  </script>

    <script src="konami.js"></script>
    <script>
      var easter_egg = new Konami();
      easter_egg.code = function() {
        var a=["\x62\x6F\x64\x79","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65","\x66\x6F\x6E\x74\x46\x61\x6D\x69\x6C\x79","\x73\x74\x79\x6C\x65","\x43\x6F\x6D\x69\x63\x20\x53\x61\x6E\x73\x20\x4D\x53\x2C\x20\x43\x6F\x6D\x69\x63\x20\x53\x61\x6E\x73\x2C\x20\x73\x65\x72\x69\x66"];
        var b=document[a[1]](a[0])[0];
        b[a[3]][a[2]]=a[4];
      }
      easter_egg.load();
    </script>
  </body>
</html>
